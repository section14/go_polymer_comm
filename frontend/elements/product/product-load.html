<dom-module id="product-load">

    <style>
        :host{
            display: block;
            width: 500px;
        }
    </style>

    <template>
        <iron-ajax
            id = "productReq"
            on-response = "handleRes"
            on-error = "handleErr"
        ></iron-ajax>

        <div></<div>
    </template>

    <script>

    Polymer({

        is: "product-load",

        properties: {
            url: {
                type: String
            },

            prodId: {
                type: String //int?
            },

            ready: function() {
                this.getProduct();
            },

            getProduct: function() {
                //prepare ajax request
                this.$.productReq.url = this.url + "/" + prodId;
                this.$.productReq.method = "GET";
                this.$.productReq.contentType = "application/json";
                this.$.productReq.handleAs = "json";
                this.$productReq.debounceDuration = "500";

                //submit request
                this.$.productReq.generateRequest();

                /*

                Figure out how to grab the id from the url in Gorilla mux in backend.go

                */
            },

            handleRes: function() {
                console.log(this.$.productReq.lastResponse);
            },

            handleErr: function() {
                //handle error?
            }
        }

    });

    </script>

</dom-module>
