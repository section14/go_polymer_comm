<dom-module id="category-breadcrumb">

    <style>
    </style>

    <template>
        <span>{{breadText}}</span>
    </template>

    <script>

    Polymer({

        is: "category-breadcrumb",

        properties: {
            parentCategory: {
                type: Number,
                notify: true,
                observer: "depthChange"
            },

            parentName: {
                type: String,
                notify: true
            }
        },

        ready: function() {
            this.breadText = "Root";

            //breadcrumb array
            this.crumbList = [];
        },

        depthChange: function() {
            this.async(function() {
                this.manageBreadCrumb()
            }, 100);
        },

        manageBreadCrumb: function() {
            var matchCat = false;

            //check if this category is already in the list
            for (i = 0; i< this.crumbList.length; i++)
            {
                if (this.parentCategory == this.crumbList[i])
                {
                    matchCat = true;
                }
            }

            //add new category
            if (matchCat == false)
            {
                this.addBreadCrumb();
            }
        },

        addBreadCrumb: function() {
            if (this.parentName != undefined && this.parentName != "")
            {
                this.breadText += " -> " + this.parentName;
            }
        },

        deleteBreadCrumb: function() {

        }

    });

    </script>

</dom-module>
