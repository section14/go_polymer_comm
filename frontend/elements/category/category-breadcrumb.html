<dom-module id="category-breadcrumb">

    <style>
        ::host {
            display: inline;
        }
    </style>

    <template>
        <div id="bread_buttons"></div>
    </template>

    <script>

    Polymer({

        is: "category-breadcrumb",

        properties: {
            parentCategory: {
                type: Number,
                notify: true,
                observer: "depthChange"
            },

            parentName: {
                type: String,
                notify: true
            }
        },

        ready: function() {
            this.breadText = "Root";

            //breadcrumb array
            this.crumbList = [];
        },

        depthChange: function() {
            this.async(function() {
                this.manageBreadCrumb()
            }, 100);
        },

        manageBreadCrumb: function() {
            var matchCat = false;

            //check if this category is already in the list
            for (i = 0; i< this.crumbList.length; i++)
            {
                if (this.parentCategory == this.crumbList[i])
                {
                    matchCat = true;
                }
            }

            //add new category
            if (matchCat == false)
            {
                this.addBreadCrumb();
            }
        },

        addBreadCrumb: function() {
            if (this.parentName != undefined && this.parentName != "")
            {
                var newButton = document.createElement("paper-button");
                newButton.raised = true;
                newButton.innerHTML = this.parentName;
                newButton.addEventListener("tap",this.testThing);

                //container div to hold imported document
                //var container = document.createElement("div");
                //var importedNode = document.importNode(template.content, true);
                //container.appendChild(importedNode);

                //add import document to local DOM and add a reference to it
                //this.currentContent = container;
                Polymer.dom(this.$.bread_buttons).appendChild(newButton);
                //this.breadText += " -> " + this.parentName;
            }
        },

        testThing: function () {
        console.log("yo broooss");
        },

        deleteBreadCrumb: function() {

        }

    });

    </script>

</dom-module>
